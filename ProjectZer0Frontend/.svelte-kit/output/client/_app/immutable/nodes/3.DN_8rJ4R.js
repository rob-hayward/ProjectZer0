import{s as x,e as E,b as W,t as F,y as H,d as N,f as O,p as q,j as A,h as S,i as c,q as p,k as w,l as P,z as I,r as B,F as le,m as D,n as J,w as $,G as se,H as oe,I as M,v as ie,J as ne}from"../chunks/scheduler.B8nqcW9H.js";import{S as ee,i as te,t as U,a as j,c as re,b as ae,d as ue,m as de,e as fe,g as ce}from"../chunks/index.Bb0C942f.js";import{g as X}from"../chunks/entry.D89jaJfG.js";import{g as pe}from"../chunks/auth0.Bs0tMaqG.js";import{f as Z}from"../chunks/api.Dyfb_DGk.js";function G(n){let e,i="Definition (optional):",s,l,r,u,C="Discussion:",b,h,a,_,g,k,z,T,L="Create Word Node",m,d;return{c(){e=E("label"),e.textContent=i,s=W(),l=E("textarea"),r=W(),u=E("label"),u.textContent=C,b=W(),h=E("textarea"),a=W(),_=E("label"),g=E("input"),k=F(`
        Would you like to be publicly credited for the creation of this node?`),z=W(),T=E("button"),T.textContent=L,this.h()},l(t){e=N(t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1pr6agd"&&(e.textContent=i),s=A(t),l=N(t,"TEXTAREA",{id:!0,placeholder:!0,class:!0}),O(l).forEach(c),r=A(t),u=N(t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(u)!=="svelte-s3ahi0"&&(u.textContent=C),b=A(t),h=N(t,"TEXTAREA",{id:!0,placeholder:!0,class:!0}),O(h).forEach(c),a=A(t),_=N(t,"LABEL",{class:!0});var o=O(_);g=N(o,"INPUT",{type:!0}),k=S(o,`
        Would you like to be publicly credited for the creation of this node?`),o.forEach(c),z=A(t),T=N(t,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(T)!=="svelte-1dfeb9f"&&(T.textContent=L),this.h()},h(){p(e,"for","definition"),p(e,"class","svelte-1edd47z"),p(l,"id","definition"),p(l,"placeholder","Enter your definition of this word within the context of its use in ProjectZer0. If you do not provide a definition, a placeholder definition will be automatically generated from Free Online Dictionary."),p(l,"class","svelte-1edd47z"),p(u,"for","discussion"),p(u,"class","svelte-1edd47z"),p(h,"id","discussion"),p(h,"placeholder","Would you like to start a discussion around this word and its definition? If so, please kick off the discussion by adding your creator comment here."),p(h,"class","svelte-1edd47z"),p(g,"type","checkbox"),p(_,"class","svelte-1edd47z"),p(T,"type","submit"),p(T,"class","svelte-1edd47z")},m(t,o){w(t,e,o),w(t,s,o),w(t,l,o),I(l,n[1]),w(t,r,o),w(t,u,o),w(t,b,o),w(t,h,o),I(h,n[2]),w(t,a,o),w(t,_,o),P(_,g),g.checked=n[3],P(_,k),w(t,z,o),w(t,T,o),m||(d=[B(l,"input",n[11]),B(h,"input",n[12]),B(g,"change",n[13])],m=!0)},p(t,o){o&2&&I(l,t[1]),o&4&&I(h,t[2]),o&8&&(g.checked=t[3])},d(t){t&&(c(e),c(s),c(l),c(r),c(u),c(b),c(h),c(a),c(_),c(z),c(T)),m=!1,$(d)}}}function V(n){let e,i;return{c(){e=E("p"),i=F(n[4]),this.h()},l(s){e=N(s,"P",{class:!0});var l=O(e);i=S(l,n[4]),l.forEach(c),this.h()},h(){p(e,"class","error svelte-1edd47z")},m(s,l){w(s,e,l),P(e,i)},p(s,l){l&16&&D(i,s[4])},d(s){s&&c(e)}}}function he(n){let e,i,s="Word:",l,r,u,C,b,h=n[6]?"Checking...":"Check word existence",a,_,g,k,z,T,L,m=n[5]===!1&&G(n),d=n[4]&&V(n);return{c(){e=E("form"),i=E("label"),i.textContent=s,l=W(),r=E("input"),C=W(),b=E("button"),a=F(h),g=W(),m&&m.c(),k=W(),d&&d.c(),z=H(),this.h()},l(t){e=N(t,"FORM",{class:!0});var o=O(e);i=N(o,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(i)!=="svelte-1vghm3s"&&(i.textContent=s),l=A(o),r=N(o,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),C=A(o),b=N(o,"BUTTON",{type:!0,class:!0});var v=O(b);a=S(v,h),v.forEach(c),g=A(o),m&&m.l(o),o.forEach(c),k=A(t),d&&d.l(t),z=H(),this.h()},h(){p(i,"for","word"),p(i,"class","svelte-1edd47z"),p(r,"type","text"),p(r,"id","word"),p(r,"placeholder","Enter the keyword you believe to be important for use in ProjectZer0"),r.disabled=u=n[5]!==null,p(r,"class","svelte-1edd47z"),p(b,"type","button"),b.disabled=_=n[6]||n[5]!==null,p(b,"class","svelte-1edd47z"),p(e,"class","svelte-1edd47z")},m(t,o){w(t,e,o),P(e,i),P(e,l),P(e,r),I(r,n[0]),P(e,C),P(e,b),P(b,a),P(e,g),m&&m.m(e,null),w(t,k,o),d&&d.m(t,o),w(t,z,o),T||(L=[B(r,"input",n[10]),B(b,"click",n[7]),B(e,"submit",le(n[8]))],T=!0)},p(t,[o]){o&32&&u!==(u=t[5]!==null)&&(r.disabled=u),o&1&&r.value!==t[0]&&I(r,t[0]),o&64&&h!==(h=t[6]?"Checking...":"Check word existence")&&D(a,h),o&96&&_!==(_=t[6]||t[5]!==null)&&(b.disabled=_),t[5]===!1?m?m.p(t,o):(m=G(t),m.c(),m.m(e,null)):m&&(m.d(1),m=null),t[4]?d?d.p(t,o):(d=V(t),d.c(),d.m(z.parentNode,z)):d&&(d.d(1),d=null)},i:J,o:J,d(t){t&&(c(e),c(k),c(z)),m&&m.d(),d&&d.d(t),T=!1,$(L)}}}function _e(n,e,i){let{user:s}=e,l="",r="",u="",C=!1,b=null,h=null,a=!1;const _=se();async function g(){if(!l.trim()){i(4,b="Please enter a word");return}i(6,a=!0);try{const d=await Z(`/nodes/word/check/${encodeURIComponent(l.trim())}`);i(5,h=d.exists),h&&_("wordExists",{word:l.trim()})}catch(d){i(4,b=d instanceof Error?d.message:"Failed to check word existence")}finally{i(6,a=!1)}}async function k(){if(!l.trim()){i(4,b="Please enter a word");return}try{const d=await Z("/nodes/word",{method:"POST",body:JSON.stringify({word:l.trim(),definition:r,discussion:u,publicCredit:C,createdBy:s==null?void 0:s.sub})});_("nodeCreated",{success:!0,message:`Word node "${l}" created successfully`,data:d})}catch(d){_("nodeCreated",{success:!1,message:d instanceof Error?d.message:"Failed to create new word node"})}}function z(){l=this.value,i(0,l)}function T(){r=this.value,i(1,r)}function L(){u=this.value,i(2,u)}function m(){C=this.checked,i(3,C)}return n.$$set=d=>{"user"in d&&i(9,s=d.user)},[l,r,u,C,b,h,a,g,k,s,z,T,L,m]}class me extends ee{constructor(e){super(),te(this,e,_e,he,x,{user:9})}}function K(n){let e,i;return{c(){e=E("p"),i=F(n[2]),this.h()},l(s){e=N(s,"P",{class:!0});var l=O(e);i=S(l,n[2]),l.forEach(c),this.h()},h(){p(e,"class","error svelte-vvq35s")},m(s,l){w(s,e,l),P(e,i)},p(s,l){l&4&&D(i,s[2])},d(s){s&&c(e)}}}function Q(n){let e,i;return{c(){e=E("p"),i=F(n[3]),this.h()},l(s){e=N(s,"P",{class:!0});var l=O(e);i=S(l,n[3]),l.forEach(c),this.h()},h(){p(e,"class","success svelte-vvq35s")},m(s,l){w(s,e,l),P(e,i)},p(s,l){l&8&&D(i,s[3])},d(s){s&&c(e)}}}function Y(n){let e,i;return e=new me({props:{user:n[0]}}),e.$on("nodeCreated",n[4]),e.$on("wordExists",n[5]),{c(){ae(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,l){de(e,s,l),i=!0},p(s,l){const r={};l&1&&(r.user=s[0]),e.$set(r)},i(s){i||(U(e.$$.fragment,s),i=!0)},o(s){j(e.$$.fragment,s),i=!1},d(s){fe(e,s)}}}function be(n){let e,i="Create New Node",s,l,r,u,C,b="Select Node Type:",h,a,_,g="Select a node type",k,z="Word",T,L,m,d,t=n[2]&&K(n),o=n[3]&&Q(n),v=n[1]==="word"&&Y(n);return{c(){e=E("h1"),e.textContent=i,s=W(),t&&t.c(),l=W(),o&&o.c(),r=W(),u=E("div"),C=E("label"),C.textContent=b,h=W(),a=E("select"),_=E("option"),_.textContent=g,k=E("option"),k.textContent=z,T=W(),v&&v.c(),this.h()},l(f){e=N(f,"H1",{"data-svelte-h":!0}),q(e)!=="svelte-a91774"&&(e.textContent=i),s=A(f),t&&t.l(f),l=A(f),o&&o.l(f),r=A(f),u=N(f,"DIV",{class:!0});var y=O(u);C=N(y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(C)!=="svelte-16fub45"&&(C.textContent=b),h=A(y),a=N(y,"SELECT",{id:!0,class:!0});var R=O(a);_=N(R,"OPTION",{"data-svelte-h":!0}),q(_)!=="svelte-1ylcgyf"&&(_.textContent=g),k=N(R,"OPTION",{"data-svelte-h":!0}),q(k)!=="svelte-183aq5q"&&(k.textContent=z),R.forEach(c),T=A(y),v&&v.l(y),y.forEach(c),this.h()},h(){p(C,"for","node-type"),p(C,"class","svelte-vvq35s"),_.__value="",I(_,_.__value),k.__value="word",I(k,k.__value),p(a,"id","node-type"),p(a,"class","svelte-vvq35s"),n[1]===void 0&&oe(()=>n[6].call(a)),p(u,"class","create-node-form svelte-vvq35s")},m(f,y){w(f,e,y),w(f,s,y),t&&t.m(f,y),w(f,l,y),o&&o.m(f,y),w(f,r,y),w(f,u,y),P(u,C),P(u,h),P(u,a),P(a,_),P(a,k),M(a,n[1],!0),P(u,T),v&&v.m(u,null),L=!0,m||(d=B(a,"change",n[6]),m=!0)},p(f,[y]){f[2]?t?t.p(f,y):(t=K(f),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null),f[3]?o?o.p(f,y):(o=Q(f),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),y&2&&M(a,f[1]),f[1]==="word"?v?(v.p(f,y),y&2&&U(v,1)):(v=Y(f),v.c(),U(v,1),v.m(u,null)):v&&(ce(),j(v,1,1,()=>{v=null}),re())},i(f){L||(U(v),L=!0)},o(f){j(v),L=!1},d(f){f&&(c(e),c(s),c(l),c(r),c(u)),t&&t.d(f),o&&o.d(f),v&&v.d(),m=!1,d()}}}function ve(n,e,i){let s=null,l="",r=null,u=null;ie(async()=>{try{const a=await pe();a?i(0,s=a):i(2,r="Failed to fetch user data")}catch{i(2,r="Failed to fetch user data")}});function C(a){a.detail.success?(i(3,u=a.detail.message),i(2,r=null),a.detail.data&&a.detail.data.id&&X(`/nodes/word/${a.detail.data.id}`)):(i(2,r=a.detail.message),i(3,u=null))}function b(a){X(`/nodes/word/${a.detail.word}`)}function h(){l=ne(this),i(1,l)}return[s,l,r,u,C,b,h]}class Ne extends ee{constructor(e){super(),te(this,e,ve,be,x,{})}}export{Ne as component};

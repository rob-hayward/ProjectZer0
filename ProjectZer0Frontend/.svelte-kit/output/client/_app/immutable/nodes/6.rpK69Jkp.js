import{s as ce,e as _,t as P,b as B,d as m,f as y,h as k,i as h,j as S,p as M,q as W,k as O,l as r,m as V,n as F,S as fe,y as oe}from"../chunks/scheduler.CHpejKh9.js";import{S as de,i as ue,a as te,c as he,t as ne,g as pe,b as _e,d as me,m as ve,e as ge}from"../chunks/index.DkR5ShKl.js";import"../chunks/entry.C6B3fOkw.js";import{f as be}from"../chunks/api.D3fHdpjr.js";function K(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function le(l,e,n){const t=l.slice();return t[1]=e[n],t}function se(l,e,n){const t=l.slice();return t[4]=e[n],t}function ae(l){let e,n,t=l[4].createdBy==="FreeDictionaryAPI"?"Free Dictionary Definition":"User-Provided Definition",a,f,o,c=l[4].text+"",s,i,p,I,v=l[4].votes+"",E,L;return{c(){e=_("div"),n=_("h3"),a=P(t),f=B(),o=_("p"),s=P(c),i=B(),p=_("p"),I=P("Votes: "),E=P(v),L=B(),this.h()},l(w){e=m(w,"DIV",{class:!0});var d=y(e);n=m(d,"H3",{});var g=y(n);a=k(g,t),g.forEach(h),f=S(d),o=m(d,"P",{});var N=y(o);s=k(N,c),N.forEach(h),i=S(d),p=m(d,"P",{});var T=y(p);I=k(T,"Votes: "),E=k(T,v),T.forEach(h),L=S(d),d.forEach(h),this.h()},h(){W(e,"class","definition svelte-v9n0oe")},m(w,d){O(w,e,d),r(e,n),r(n,a),r(e,f),r(e,o),r(o,s),r(e,i),r(e,p),r(p,I),r(p,E),r(e,L)},p(w,d){d&1&&t!==(t=w[4].createdBy==="FreeDictionaryAPI"?"Free Dictionary Definition":"User-Provided Definition")&&V(a,t),d&1&&c!==(c=w[4].text+"")&&V(s,c),d&1&&v!==(v=w[4].votes+"")&&V(E,v)},d(w){w&&h(e)}}}function re(l){let e,n,t="Discussion",a,f=K(l[0].discussion.comments),o=[];for(let c=0;c<f.length;c+=1)o[c]=ie(le(l,f,c));return{c(){e=_("section"),n=_("h2"),n.textContent=t,a=B();for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=m(c,"SECTION",{class:!0});var s=y(e);n=m(s,"H2",{"data-svelte-h":!0}),M(n)!=="svelte-78nape"&&(n.textContent=t),a=S(s);for(let i=0;i<o.length;i+=1)o[i].l(s);s.forEach(h),this.h()},h(){W(e,"class","discussion svelte-v9n0oe")},m(c,s){O(c,e,s),r(e,n),r(e,a);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(e,null)},p(c,s){if(s&1){f=K(c[0].discussion.comments);let i;for(i=0;i<f.length;i+=1){const p=le(c,f,i);o[i]?o[i].p(p,s):(o[i]=ie(p),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=f.length}},d(c){c&&h(e),fe(o,c)}}}function ie(l){let e,n,t=l[1].commentText+"",a,f,o,c,s=l[1].createdBy+"",i,p,I,v,E=$(l[1].createdAt)+"",L,w;return{c(){e=_("div"),n=_("p"),a=P(t),f=B(),o=_("p"),c=P("By: "),i=P(s),p=B(),I=_("p"),v=P("Posted: "),L=P(E),w=B(),this.h()},l(d){e=m(d,"DIV",{class:!0});var g=y(e);n=m(g,"P",{});var N=y(n);a=k(N,t),N.forEach(h),f=S(g),o=m(g,"P",{});var T=y(o);c=k(T,"By: "),i=k(T,s),T.forEach(h),p=S(g),I=m(g,"P",{});var H=y(I);v=k(H,"Posted: "),L=k(H,E),H.forEach(h),w=S(g),g.forEach(h),this.h()},h(){W(e,"class","comment svelte-v9n0oe")},m(d,g){O(d,e,g),r(e,n),r(n,a),r(e,f),r(e,o),r(o,c),r(o,i),r(e,p),r(e,I),r(I,v),r(I,L),r(e,w)},p(d,g){g&1&&t!==(t=d[1].commentText+"")&&V(a,t),g&1&&s!==(s=d[1].createdBy+"")&&V(i,s),g&1&&E!==(E=$(d[1].createdAt)+"")&&V(L,E)},d(d){d&&h(e)}}}function we(l){let e,n,t=l[0].word+"",a,f,o,c,s="Definitions",i,p,I,v,E,L,w=(l[0].publicCredit?l[0].createdBy:"Anonymous")+"",d,g,N,T,H=$(l[0].createdAt)+"",G,Q,q,X,z=$(l[0].updatedAt)+"",J,j=K(l[0].definitions),D=[];for(let u=0;u<j.length;u+=1)D[u]=ae(se(l,j,u));let A=l[0].discussion&&re(l);return{c(){e=_("div"),n=_("h1"),a=P(t),f=B(),o=_("section"),c=_("h2"),c.textContent=s,i=B();for(let u=0;u<D.length;u+=1)D[u].c();p=B(),A&&A.c(),I=B(),v=_("section"),E=_("p"),L=P("Created by: "),d=P(w),g=B(),N=_("p"),T=P("Created at: "),G=P(H),Q=B(),q=_("p"),X=P("Last updated: "),J=P(z),this.h()},l(u){e=m(u,"DIV",{class:!0});var C=y(e);n=m(C,"H1",{});var b=y(n);a=k(b,t),b.forEach(h),f=S(C),o=m(C,"SECTION",{class:!0});var U=y(o);c=m(U,"H2",{"data-svelte-h":!0}),M(c)!=="svelte-wrtpe4"&&(c.textContent=s),i=S(U);for(let ee=0;ee<D.length;ee+=1)D[ee].l(U);U.forEach(h),p=S(C),A&&A.l(C),I=S(C),v=m(C,"SECTION",{class:!0});var R=y(v);E=m(R,"P",{});var Y=y(E);L=k(Y,"Created by: "),d=k(Y,w),Y.forEach(h),g=S(R),N=m(R,"P",{});var Z=y(N);T=k(Z,"Created at: "),G=k(Z,H),Z.forEach(h),Q=S(R),q=m(R,"P",{});var x=y(q);X=k(x,"Last updated: "),J=k(x,z),x.forEach(h),R.forEach(h),C.forEach(h),this.h()},h(){W(o,"class","definitions svelte-v9n0oe"),W(v,"class","metadata svelte-v9n0oe"),W(e,"class","word-node svelte-v9n0oe")},m(u,C){O(u,e,C),r(e,n),r(n,a),r(e,f),r(e,o),r(o,c),r(o,i);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(o,null);r(e,p),A&&A.m(e,null),r(e,I),r(e,v),r(v,E),r(E,L),r(E,d),r(v,g),r(v,N),r(N,T),r(N,G),r(v,Q),r(v,q),r(q,X),r(q,J)},p(u,[C]){if(C&1&&t!==(t=u[0].word+"")&&V(a,t),C&1){j=K(u[0].definitions);let b;for(b=0;b<j.length;b+=1){const U=se(u,j,b);D[b]?D[b].p(U,C):(D[b]=ae(U),D[b].c(),D[b].m(o,null))}for(;b<D.length;b+=1)D[b].d(1);D.length=j.length}u[0].discussion?A?A.p(u,C):(A=re(u),A.c(),A.m(e,I)):A&&(A.d(1),A=null),C&1&&w!==(w=(u[0].publicCredit?u[0].createdBy:"Anonymous")+"")&&V(d,w),C&1&&H!==(H=$(u[0].createdAt)+"")&&V(G,H),C&1&&z!==(z=$(u[0].updatedAt)+"")&&V(J,z)},i:F,o:F,d(u){u&&h(e),fe(D,u),A&&A.d()}}}function $(l){return new Date(l).toLocaleString()}function Ce(l,e,n){let{word:t}=e;return l.$$set=a=>{"word"in a&&n(0,t=a.word)},[t]}class Ee extends de{constructor(e){super(),ue(this,e,Ce,we,ce,{word:0})}}function De(l){let e,n="No word data available";return{c(){e=_("p"),e.textContent=n},l(t){e=m(t,"P",{"data-svelte-h":!0}),M(e)!=="svelte-10fidlo"&&(e.textContent=n)},m(t,a){O(t,e,a)},p:F,i:F,o:F,d(t){t&&h(e)}}}function Pe(l){let e,n;return e=new Ee({props:{word:l[0]}}),{c(){_e(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,a){ve(e,t,a),n=!0},p(t,a){const f={};a&1&&(f.word=t[0]),e.$set(f)},i(t){n||(ne(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){ge(e,t)}}}function ye(l){let e,n;return{c(){e=_("p"),n=P(l[1]),this.h()},l(t){e=m(t,"P",{class:!0});var a=y(e);n=k(a,l[1]),a.forEach(h),this.h()},h(){W(e,"class","error svelte-1fi3y4c")},m(t,a){O(t,e,a),r(e,n)},p(t,a){a&2&&V(n,t[1])},i:F,o:F,d(t){t&&h(e)}}}function ke(l){let e,n="Loading word data...";return{c(){e=_("p"),e.textContent=n},l(t){e=m(t,"P",{"data-svelte-h":!0}),M(e)!=="svelte-1ygobei"&&(e.textContent=n)},m(t,a){O(t,e,a)},p:F,i:F,o:F,d(t){t&&h(e)}}}function Ae(l){let e,n,t,a;const f=[ke,ye,Pe,De],o=[];function c(s,i){return s[2]?0:s[1]?1:s[0]?2:3}return e=c(l),n=o[e]=f[e](l),{c(){n.c(),t=oe()},l(s){n.l(s),t=oe()},m(s,i){o[e].m(s,i),O(s,t,i),a=!0},p(s,[i]){let p=e;e=c(s),e===p?o[e].p(s,i):(pe(),te(o[p],1,1,()=>{o[p]=null}),he(),n=o[e],n?n.p(s,i):(n=o[e]=f[e](s),n.c()),ne(n,1),n.m(t.parentNode,t))},i(s){a||(ne(n),a=!0)},o(s){te(n),a=!1},d(s){s&&h(t),o[e].d(s)}}}function Ie(l,e,n){let{data:t}=e,a=null,f=null,o=!0;async function c(){n(2,o=!0),n(1,f=null);try{n(0,a=await be(`/nodes/word/${encodeURIComponent(t.word.toLowerCase())}`)),n(2,o=!1)}catch(s){console.error("Error fetching word data:",s),n(1,f=s instanceof Error?s.message:"An error occurred while fetching word data"),n(2,o=!1)}}return l.$$set=s=>{"data"in s&&n(3,t=s.data)},l.$$.update=()=>{l.$$.dirty&8&&t.word&&c()},[a,f,o,t]}class Te extends de{constructor(e){super(),ue(this,e,Ie,Ae,ce,{data:3})}}export{Te as component};

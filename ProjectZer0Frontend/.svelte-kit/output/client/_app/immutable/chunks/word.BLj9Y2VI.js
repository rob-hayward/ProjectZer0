import{j as c}from"./JWTStore.DATNfIZU.js";const l="http://localhost:3000/api";async function i(r,e={}){const n=c.getToken(),s={"Content-Type":"application/json",...e.headers};n&&(s.Authorization=`Bearer ${n}`);try{console.log(`Fetching ${r} with options:`,e);const o=await fetch(`${l}${r}`,{...e,headers:s,credentials:"include"});if(console.log("Fetch response:",o),!o.ok){const t=await o.text();throw console.error("Error response body:",t),new Error(`API call failed: ${o.status} ${o.statusText}, body: ${t}`)}const a=o.headers.get("content-type");if(a&&a.includes("application/json")){const t=await o.json();return console.log("JSON response:",t),t}else{const t=await o.text();return console.log("Text response:",t),t}}catch(o){throw console.error("Fetch error:",o),o}}async function h(r){try{if(!r)return console.warn("getWordData called with empty word"),null;console.log(`Fetching word data for: ${r}`);const e=encodeURIComponent(r.toLowerCase()),n=await i(`/nodes/word/${e}`);return console.log("Word data received:",n),n}catch(e){throw console.error("Error fetching word data:",e),e}}export{i as f,h as g};

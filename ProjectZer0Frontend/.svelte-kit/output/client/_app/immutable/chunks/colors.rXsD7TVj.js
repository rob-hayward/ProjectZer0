import{w as n}from"./index.BLBD6f_K.js";function l(){const{subscribe:t,set:e,update:o}=n(null);return{subscribe:t,setToken:r=>e(r),clearToken:()=>e(null),getToken:()=>{let r=null;return t(c=>{r=c})(),r}}}const u=l(),s=n(null),a="http://localhost:3000/api";function i(){window.location.href=`${a}/auth/login`}function E(){u.clearToken(),s.set(null),window.location.href=`${a}/auth/logout`}async function g(t=!0){try{console.log("Fetching user data from backend...");const e=await fetch(`${a}/auth/profile`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){if(e.status===401)return console.log("User is not authenticated."),t&&(console.log("Auto-redirect enabled, redirecting to login..."),i()),null;throw new Error(`Failed to fetch user data: ${e.statusText}`)}const o=await e.json();return console.log("User data received:",o),s.set(o),o}catch(e){return console.error("Error getting user data:",e),null}}async function b(){await g(!0)}const d={PRIMARY:{BLUE:"#3498db",YELLOW:"#f1c40f",PURPLE:"#9b59b6",GREEN:"#2ecc71",TURQUOISE:"#1abc9c",ORANGE:"#e67e22",RED:"#e74c3c",FOREST:"#27ae60"},UI:{BACKGROUND:"#000000",TEXT:{PRIMARY:"#FFFFFF",SECONDARY:"rgba(255, 255, 255, 0.7)",TERTIARY:"rgba(255, 255, 255, 0.5)"},BORDER:{LIGHT:"rgba(255, 255, 255, 0.2)",LIGHTER:"rgba(255, 255, 255, 0.4)"}},GRAPH:{NODE:{BACKGROUND:"rgba(0, 0, 0, 0.7)",BORDER:"rgba(255, 255, 255, 0.2)",HOVER_BORDER:"rgba(255, 255, 255, 0.4)",GLOW:"rgba(255, 255, 255, 0.15)"},EDGE:{DEFAULT:"rgba(255, 255, 255, 0.2)",HIGHLIGHT:"rgba(255, 255, 255, 0.4)"}}};export{d as C,E as a,g,b as h,u as j,i as l,s as u};

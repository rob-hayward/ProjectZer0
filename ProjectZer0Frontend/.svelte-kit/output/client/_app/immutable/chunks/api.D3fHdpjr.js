import{j as c}from"./JWTStore.C8Ly8kZn.js";const i="http://localhost:3000/api";async function l(a,t={}){const o=c.getToken(),r={"Content-Type":"application/json",...t.headers};o&&(r.Authorization=`Bearer ${o}`);try{const e=await fetch(`${i}${a}`,{...t,headers:r,credentials:"include"});if(console.log("Fetch response:",e),!e.ok){const s=await e.text();throw console.error("Error response body:",s),new Error(`API call failed: ${e.statusText}, body: ${s}`)}const n=e.headers.get("content-type");return n&&n.includes("application/json")?await e.json():await e.text()}catch(e){throw console.error("Fetch error:",e),e}}export{l as f};
